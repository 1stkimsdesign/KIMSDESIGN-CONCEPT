<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>🎁 디자인 컨셉 기획 생성기 (드롭다운 간단형)</title>
<meta name="description" content="산업군/목적/플랫폼/타겟/톤/제약을 선택하면 용어 대백과 결로 컬러·서체·레이아웃·무드를 자동 추천합니다.">
<style>
  :root{
    --bg:#fff; --fg:#0b0b0c; --muted:#6b7280; --line:#e5e7eb; --card:#f8fafc;
    --accent:#2563eb; --ok:#16a34a; --bad:#ef4444;
  }
  *{box-sizing:border-box}
  html,body{margin:0}
  body{font-family:ui-sans-serif,system-ui,Apple SD Gothic Neo,Pretendard,Roboto,Helvetica,Arial;background:var(--bg);color:var(--fg)}
  header{position:sticky;top:0;background:#ffffffcc;backdrop-filter:blur(8px);border-bottom:1px solid var(--line);z-index:20}
  .wrap{max-width:1080px;margin:0 auto;padding:18px}
  .brand{display:flex;align-items:center;gap:12px;font-weight:900}
  .badge{font-size:12px;color:#334155;border:1px solid var(--line);background:#eef2ff;padding:4px 10px;border-radius:999px}
  .grid{display:grid;gap:14px}
  .panel{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:16px}
  h1,h2,h3{margin:0 0 8px 0}
  p{margin:6px 0}
  select{width:100%;padding:12px;border:1px solid var(--line);border-radius:12px;background:#fff}
  .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
  .btn{padding:12px 16px;border:1px solid var(--line);border-radius:12px;background:linear-gradient(#fff,#f3f4f6);cursor:pointer}
  .btn.primary{background:linear-gradient(180deg,#93c5fd,#60a5fa);border-color:transparent;font-weight:800}
  .small{font-size:12px;color:var(--muted)}
  .card{background:#fff;border:1px solid var(--line);border-radius:14px;padding:14px}
  .col2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .col3{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
  @media (max-width: 920px){ .col2{grid-template-columns:1fr} .col3{grid-template-columns:1fr} }

  .tag{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border:1px solid var(--line);border-radius:999px;background:#fff;color:#334155;font-size:12px}
  .swatch{display:flex;gap:10px;flex-wrap:wrap}
  .swatch .c{width:92px;border:1px solid var(--line);border-radius:10px;overflow:hidden;background:#fff}
  .swatch .c div{height:50px}
  .swatch .c span{display:block;padding:6px 6px 8px;font-size:11px;text-align:center;color:#334155}

  .resultGrid{display:grid;grid-template-columns:1.2fr 1fr;gap:14px}
  @media (max-width: 920px){ .resultGrid{grid-template-columns:1fr} }
  .hero{padding:18px;border:1px solid var(--line);border-radius:14px;background:#fff}
  .meter{height:12px;background:#f1f5f9;border-radius:999px;overflow:hidden;border:1px solid var(--line)}
  .meter>i{display:block;height:100%;background:#22c55e}

  .bars{display:grid;gap:8px}
  .barRow{display:grid;grid-template-columns:120px 1fr;gap:10px;align-items:center}
  .bar{height:12px;background:#e5e7eb;border-radius:999px;overflow:hidden}
  .bar>i{display:block;height:100%;background:linear-gradient(90deg,#60a5fa,#22d3ee)}
  footer{margin:26px 0 10px;text-align:center;color:var(--muted);font-size:12px}
</style>
</head>
<body>
<header>
  <div class="wrap brand">
    <div style="font-size:22px">🎁 디자인 컨셉 기획 생성기</div>
    <span class="badge">드롭다운 6문항 → 무드/컬러/타이포/레이아웃 자동 추천</span>
  </div>
</header>

<div class="wrap grid">

  <!-- STEP 1: 질문 화면 -->
  <section id="screen-ask" class="panel grid">
    <div class="row" style="justify-content:space-between">
      <h2>1) 질문에 답해 주세요 (6문항·20초)</h2>
      <div class="tag">용어 대백과 결로 추천</div>
    </div>

    <div class="col3">
      <div class="card">
        <h3>① 산업군</h3>
        <select id="q_industry">
          <option value="tech">IT/테크</option>
          <option value="fashion">패션/뷰티</option>
          <option value="food">푸드/레스토랑</option>
          <option value="finance">금융/핀테크</option>
          <option value="culture">문화/전시</option>
          <option value="edu">교육/공공</option>
        </select>
        <p class="small">무드·타이포·이미저리에 가중치 적용</p>
      </div>

      <div class="card">
        <h3>② 목적</h3>
        <select id="q_goal">
          <option value="conversion">전환/구매/가입</option>
          <option value="awareness">브랜드 인지도</option>
          <option value="education">안내/설명</option>
          <option value="campaign">캠페인/이벤트</option>
        </select>
        <p class="small">CTA 강도·정보 위계에 반영</p>
      </div>

      <div class="card">
        <h3>③ 플랫폼</h3>
        <select id="q_platform">
          <option value="web">웹 랜딩/프로덕트</option>
          <option value="app">모바일 앱</option>
          <option value="sns">SNS/배너</option>
          <option value="poster">포스터/인쇄</option>
        </select>
        <p class="small">그리드/세이프 존/텍스트 사이즈 반영</p>
      </div>

      <div class="card">
        <h3>④ 타겟</h3>
        <select id="q_audience">
          <option value="gen">대중</option>
          <option value="youth">10–20대</option>
          <option value="adult">30–40대</option>
          <option value="pro">전문가/업계</option>
          <option value="premium">프리미엄</option>
        </select>
        <p class="small">가독성/개성/대담함 가중치</p>
      </div>

      <div class="card">
        <h3>⑤ 톤앤매너</h3>
        <select id="q_tone">
          <option value="trust">신뢰·정제</option>
          <option value="friendly">친근·부드러움</option>
          <option value="bold">대담·강렬</option>
          <option value="warm">따뜻·휴먼</option>
        </select>
        <p class="small">타이포/컬러 대비에 반영</p>
      </div>

      <div class="card">
        <h3>⑥ 제약 사항</h3>
        <select id="q_ban">
          <option value="none">없음</option>
          <option value="noNeon">네온/강한 그라디언트 금지</option>
          <option value="noShadow">강한 그림자/글로시 금지</option>
          <option value="noRound">과도한 라운드 금지</option>
        </select>
        <p class="small">팔레트·컴포넌트 스타일 제약</p>
      </div>
    </div>

    <div class="row" style="justify-content:flex-end">
      <button class="btn primary" id="goResult">기획 생성 ▶</button>
    </div>
  </section>

  <!-- STEP 2: 결과 화면 -->
  <section id="screen-result" class="panel grid" style="display:none">
    <div class="row" style="justify-content:space-between">
      <h2>🎯 컨셉 보드</h2>
      <div class="row">
        <button class="btn" id="back">◀ 다시 선택</button>
        <button class="btn" onclick="window.print()">인쇄/PDF</button>
      </div>
    </div>

    <div class="resultGrid">
      <!-- 왼쪽: 요약/팔레트/미리보기 -->
      <div class="grid" style="gap:14px">
        <div class="card">
          <h3>📌 요약</h3>
          <div class="row" style="gap:8px;margin-top:4px">
            <span class="tag" id="tagIndustry">#산업</span>
            <span class="tag" id="tagGoal">#목적</span>
            <span class="tag" id="tagPlatform">#플랫폼</span>
            <span class="tag" id="tagAudience">#타겟</span>
            <span class="tag" id="tagTone">#톤</span>
            <span class="tag" id="tagBan">#제약</span>
          </div>
          <p class="small" id="summaryText" style="margin-top:8px"></p>
          <div class="row small" style="margin-top:6px">
            <span class="tag" id="tagMood">#자동 무드 판정</span>
          </div>
        </div>

        <div class="card">
          <h3>🎨 컬러 팔레트</h3>
          <div class="swatch" id="swatches" style="margin-top:6px"></div>
          <div class="row" style="gap:10px;margin-top:10px">
            <div class="tag" id="contrastNote">접근성 대비</div>
            <div class="meter" style="flex:1 1 200px"><i id="meter" style="width:0%"></i></div>
          </div>
        </div>

        <div class="card hero" id="heroPrev">
          <div class="tag">🎯 미리보기</div>
          <h3 id="heroTitle" style="margin:6px 0 4px">타이틀 헤드라인</h3>
          <p id="heroLead" class="small">핵심 메시지 톤: 신뢰/친근/대담/따뜻 중 자동 반영</p>
          <div class="row" style="margin-top:8px">
            <span class="tag" id="heroChip1">CTA 강도</span>
            <span class="tag" id="heroChip2">정보 위계</span>
          </div>
        </div>
      </div>

      <!-- 오른쪽: 타이포/그리드/그래프 -->
      <div class="grid" style="gap:14px">
        <div class="card">
          <h3>🔡 타이포그래피</h3>
          <ul id="typoList" style="margin:6px 0 0 18px;line-height:1.8"></ul>
          <div class="small">※ 본문은 가독성 중심(가변폭), 헤드라인은 디스플레이 — 용어 대백과 기준</div>
        </div>

        <div class="card">
          <h3>📐 레이아웃/그리드</h3>
          <ul id="gridList" style="margin:6px 0 0 18px;line-height:1.8"></ul>
          <div class="small">※ 12컬럼/모듈러/베이스라인/세이프 존 등 플랫폼에 맞춰 조합</div>
        </div>

        <div class="card">
          <h3>📊 컨셉 성향 그래프</h3>
          <div class="bars" id="barBox" style="margin-top:8px"></div>
        </div>
      </div>
    </div>
  </section>

  <footer>※ 김씨네디자인실 자체 제작 콘텐츠 — 무단 복제 및 배포 금지</footer>
</div>

<script>
/* =========================
   데이터 맵 (무드/팔레트/그리드/타이포)
========================= */
const MOOD_INFO = {
  modern:{label:'모더니즘 🧩', colors:['#111827','#2563eb','#e5e7eb','#0ea5e9','#f8fafc']},
  minimal:{label:'미니멀 🌫️', colors:['#0f172a','#94a3b8','#f1f5f9','#334155','#e2e8f0']},
  retro:{label:'레트로 📼', colors:['#5b3a29','#eab308','#ef4444','#fde68a','#f3e8ff']},
  brutal:{label:'브루탈리즘 🧨', colors:['#000000','#22c55e','#facc15','#e11d48','#ffffff']},
  pop:{label:'팝/캐주얼 🎉', colors:['#111827','#f43f5e','#fb923c','#22d3ee','#fef3c7']},
  tech:{label:'테크/사이버 💾', colors:['#0b0b0c','#22d3ee','#60a5fa','#a78bfa','#111827']},
  warm:{label:'웜/휴먼 ☕', colors:['#1f2937','#d97706','#b45309','#fde68a','#fdf2f8']}
};

const GRID_BY_PLATFORM = {
  web:['12 컬럼 그리드','베이스라인 4/8pt','모듈형 카드 패턴','세이프 존 준수(배너/썸넬)'],
  app:['모듈러 그리드','컴포넌트 기반(버튼/리스트/카드)','베이스라인 4/8pt','터치 타겟 규격 준수'],
  poster:['8 컬럼 또는 모듈러','대비 강한 헤드라인','여백/정렬(Alignment) 강조','세부 정보 위계'],
  sns:['1:1/4:5/16:9 템플릿','키 비주얼 중심','세이프 존 준수','간결한 헤드라인']
};

function typoRecommend(audience, tone){
  const body = (audience==='premium') ? 'Noto Serif/Source Serif (신뢰·서사 16–18px)'
              : (audience==='pro'||tone==='trust') ? 'Pretendard/Inter (가독성 16–18px)'
              : 'Pretendard/Inter (가독성 16–18px)';
  const head = (tone==='bold'||audience==='youth') ? 'Condensed/Strong Sans (굵게, 자간 약간 좁게)'
              : (tone==='friendly') ? 'Rounded Sans (친근)'
              : (tone==='trust'||audience==='premium') ? 'Humanist Sans/Serif Mix (정제)'
              : 'Strong Sans';
  return [body, head, '리딩 1.6–1.8 / 트래킹 0~+2 / 커닝은 제목 글자쌍 수동 보정'];
}

/* =========================
   무드 점수 규칙 (간단 가중치)
========================= */
function scoreMood({industry,goal,platform,audience,tone}){
  const s = {modern:0,minimal:0,retro:0,brutal:0,pop:0,tech:0,warm:0};
  // 산업군
  if(industry==='tech'){ s.modern+=2; s.tech+=3; s.minimal+=1; }
  if(industry==='fashion'){ s.pop+=2; s.modern+=1; s.retro+=1; }
  if(industry==='food'){ s.warm+=2; s.pop+=1; s.modern+=1; }
  if(industry==='finance'){ s.modern+=2; s.minimal+=2; s.warm+=1; }
  if(industry==='culture'){ s.retro+=2; s.modern+=1; s.brutal+=1; }
  if(industry==='edu'){ s.minimal+=2; s.modern+=1; s.warm+=1; }

  // 목적
  if(goal==='conversion'){ s.modern+=1; s.brutal+=1; s.pop+=1; }
  if(goal==='awareness'){ s.minimal+=1; s.modern+=1; s.retro+=1; }
  if(goal==='education'){ s.minimal+=2; s.warm+=1; }
  if(goal==='campaign'){ s.pop+=2; s.brutal+=2; }

  // 플랫폼
  if(platform==='web'){ s.modern+=2; s.minimal+=1; }
  if(platform==='app'){ s.modern+=1; s.minimal+=2; }
  if(platform==='sns'){ s.pop+=2; s.brutal+=1; }
  if(platform==='poster'){ s.retro+=2; s.modern+=1; }

  // 타겟
  if(audience==='youth'){ s.pop+=2; s.brutal+=1; }
  if(audience==='adult'){ s.minimal+=1; s.warm+=1; }
  if(audience==='pro'){ s.modern+=2; s.minimal+=1; }
  if(audience==='premium'){ s.warm+=1; s.modern+=1; s.minimal+=1; }

  // 톤앤매너
  if(tone==='trust'){ s.modern+=2; s.minimal+=1; }
  if(tone==='friendly'){ s.warm+=2; s.pop+=1; }
  if(tone==='bold'){ s.brutal+=2; s.pop+=1; }
  if(tone==='warm'){ s.warm+=2; s.retro+=1; }

  // 정렬
  const entries = Object.entries(s).sort((a,b)=>b[1]-a[1]);
  return {winner: entries[0][0], scores: s};
}

/* =========================
   접근성/유틸
========================= */
const $=s=>document.querySelector(s);
function hexToRgb(hex){hex=hex.replace('#',''); if(hex.length===3) hex=[hex[0],hex[0],hex[1],hex[1],hex[2],hex[2]].join(''); const num=parseInt(hex,16); return {r:(num>>16)&255,g:(num>>8)&255,b:num&255}}
function luminance({r,g,b}){const s=[r/255,g/255,b/255].map(v=>v<=0.03928?v/12.92:((v+0.055)/1.055)**2.4);return 0.2126*s[0]+0.7152*s[1]+0.0722*s[2]}
function contrast(hex1,hex2){const L1=luminance(hexToRgb(hex1)),L2=luminance(hexToRgb(hex2));const[a,b]=L1>L2?[L1,L2]:[L2,L1];return (a+0.05)/(b+0.05)}
function drawSwatches(pal){ const box=$('#swatches'); box.innerHTML=''; pal.forEach(c=>{box.insertAdjacentHTML('beforeend',`<div class="c"><div style="background:${c}"></div><span>${c.toUpperCase()}</span></div>`);}); }

/* =========================
   그래프(수제 막대)
========================= */
function drawBars(scores){
  const dims = [
    {key:'aesth', label:'심미성'}, {key:'read', label:'가독성'},
    {key:'bold', label:'대담함'}, {key:'access', label:'접근성'},
    {key:'trend', label:'트렌드성'}
  ];
  // 무드별 기본 프로파일
  const base = {
    modern:{aesth:80, read:85, bold:55, access:80, trend:70},
    minimal:{aesth:78, read:88, bold:40, access:85, trend:65},
    retro:{aesth:75, read:72, bold:60, access:70, trend:60},
    brutal:{aesth:68, read:60, bold:90, access:55, trend:75},
    pop:{aesth:72, read:70, bold:78, access:65, trend:82},
    tech:{aesth:74, read:76, bold:65, access:72, trend:85},
    warm:{aesth:78, read:78, bold:50, access:80, trend:62}
  };
  // 톤 가중치
  const tone = $('#q_tone').value;
  const toneAdj = (k)=>({
    trust:{read:+6, access:+6, bold:-6, trend:-2}[k]||0,
    friendly:{read:+2, access:+2, aesth:+2, bold:-2}[k]||0,
    bold:{bold:+10, read:-4, access:-4, trend:+4}[k]||0,
    warm:{aesth:+3, read:+3, access:+3, trend:-2}[k]||0
  }[tone]||0);

  const mood = scores.winner;
  const prof = base[mood];
  const box = $('#barBox'); box.innerHTML='';
  dims.forEach(d=>{
    const v = Math.max(0, Math.min(100, (prof[d.key]||70)+(toneAdj(d.key)||0)));
    box.insertAdjacentHTML('beforeend', `
      <div class="barRow">
        <div class="small">${d.label}</div>
        <div class="bar"><i style="width:${v}%"></i></div>
      </div>
    `);
  });
}

/* =========================
   결과 생성
========================= */
function buildResult(){
  const industry = $('#q_industry').value;
  const goal = $('#q_goal').value;
  const platform = $('#q_platform').value;
  const audience = $('#q_audience').value;
  const tone = $('#q_tone').value;
  const ban = $('#q_ban').value;

  // 태그/요약
  $('#tagIndustry').textContent = '#'+$('#q_industry').selectedOptions[0].textContent;
  $('#tagGoal').textContent = '#'+$('#q_goal').selectedOptions[0].textContent;
  $('#tagPlatform').textContent = '#'+$('#q_platform').selectedOptions[0].textContent;
  $('#tagAudience').textContent = '#'+$('#q_audience').selectedOptions[0].textContent;
  $('#tagTone').textContent = '#'+$('#q_tone').selectedOptions[0].textContent;
  $('#tagBan').textContent = (ban==='none'?'#제약 없음':'#'+$('#q_ban').selectedOptions[0].textContent);

  const moodScores = scoreMood({industry,goal,platform,audience,tone});
  const moodKey = moodScores.winner;
  const moodLabel = MOOD_INFO[moodKey].label;
  $('#tagMood').textContent = '#무드: ' + moodLabel;

  const summary = `산업군·목적·플랫폼·타겟·톤을 바탕으로 무드를 자동 판정했어요. 
  결과 무드는 <b>${moodLabel}</b>. 이 무드에 맞춰 팔레트·타이포·그리드가 추천됩니다.`;
  $('#summaryText').innerHTML = summary;

  // 팔레트 + 접근성
  let pal = [...MOOD_INFO[moodKey].colors];
  if(ban==='noNeon' && (moodKey==='pop'||moodKey==='tech')){ // 제약 반영: 네온 금지 ⇒ 채도 낮춤
    pal = pal.map((hex,i)=> i===1||i===2 ? '#64748b' : hex);
  }
  drawSwatches(pal);
  const bg = pal[pal.length-1], fg = '#111111';
  const ratio = contrast(bg, fg);
  $('#contrastNote').textContent = `배경 ${bg} 대비 텍스트 #111 명도 대비: ${ratio.toFixed(2)}:1 (AA 권고 ≥ 4.5)`;
  $('#meter').style.width = Math.min(100,(ratio/7)*100)+'%';

  // 미리보기
  $('#heroPrev').style.background = bg;
  $('#heroPrev').style.color = (ratio>=4.5? '#111':'#fff');
  $('#heroChip1').textContent = (goal==='conversion'?'강한 CTA 배치':'정보 우선');
  $('#heroChip2').textContent = (platform==='sns'?'세이프 존 확보':'정렬/여백 균형');

  // 타이포
  const [body, head, rule] = typoRecommend(audience, tone);
  $('#typoList').innerHTML = `
    <li>본문: <b>${body}</b></li>
    <li>헤드라인: <b>${head}</b></li>
    <li>${rule}</li>
    <li>명도 대비 준수(AA 기준), 가독성 중심 세팅</li>
  `;

  // 그리드
  const grids = GRID_BY_PLATFORM[platform] || GRID_BY_PLATFORM.web;
  $('#gridList').innerHTML = grids.map(g=>`<li>${g}</li>`).join('');

  // 그래프
  drawBars({winner:moodKey});
}

/* =========================
   네비게이션
========================= */
$('#goResult').onclick=()=>{
  buildResult();
  $('#screen-ask').style.display='none';
  $('#screen-result').style.display='';
  window.scrollTo({top:0,behavior:'smooth'});
};
$('#back').onclick=()=>{
  $('#screen-result').style.display='none';
  $('#screen-ask').style.display='';
  window.scrollTo({top:0,behavior:'smooth'});
};
</script>
</body>
</html>
